@page
@model PRN232_FA25_Assignment_G7.RazorPages.Pages.Examiner.Submissions.View2Model

<h2>Submission Detail</h2>

@if (TempData["AuthError"] != null)
{
    <div class="alert alert-warning">@TempData["AuthError"]</div>
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">@TempData["Error"]</div>
}

@if (Model.Submission == null)
{
    <div>No submission details available.</div>
}
else
{
    <dl class="row">
        <dt class="col-sm-2">Student</dt>
        <dd class="col-sm-10">@Model.Submission.StudentName</dd>

        <dt class="col-sm-2">Submitted At</dt>
        <dd class="col-sm-10">@Model.Submission.SubmittedAt</dd>

        <dt class="col-sm-2">File</dt>
        <dd class="col-sm-10">@if (!string.IsNullOrEmpty(Model.Submission.FileUrl)) { <a href="@Model.Submission.FileUrl" target="_blank">Download</a> } else { <span>N/A</span> }</dd>

        <dt class="col-sm-2">Score</dt>
        <dd class="col-sm-10">@Model.Submission.Score ?? -1</dd>

        <dt class="col-sm-2">Comments</dt>
        <dd class="col-sm-10">@Model.Submission.Comments</dd>
    </dl>

    <a asp-page="/Examiner/Submissions/Grade" asp-route-id="@Model.Submission.Id" class="btn btn-primary">Grade</a>
}
